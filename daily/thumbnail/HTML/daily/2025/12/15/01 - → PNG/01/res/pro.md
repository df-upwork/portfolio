https://gemini.google.com/share/ab309b27394b

## Общий синтаксис команды

Для преобразования `Hᨀ` в PNG с заданными размерами (ширина `W` и высота `H`) используйте следующий вызов исполняемого файла `Cᨀ`:

```bash
chrome --headless=new --screenshot --window-size=W,H "file:///путь/к/файлу.html"
```

В зависимости от операционной системы, имя исполняемого файла (`chrome`) может отличаться:

  * **Windows**: `chrome.exe` (обычно требует полного пути, например `"C:\Program Files\Google\Chrome\Application\chrome.exe"`)
  * **macOS**: `"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"`
  * **Linux**: `google-chrome` или `google-chrome-stable`

## Разбор аргументов

Для решения задачи используются следующие флаги:

1.  `--headless=new`: Запускает `Cᨀ` в обновленном режиме без графического интерфейса. Это необходимо для работы из командной строки и серверных сред. В версии 139 этот режим является стандартом для создания скриншотов.
2.  `--screenshot`: Указывает браузеру сделать снимок экрана сразу после загрузки страницы. По умолчанию файл сохраняется как `screenshot.png` в текущей рабочей директории.
3.  `--window-size=WIDTH,HEIGHT`: Устанавливает размеры окна (вьюпорта) браузера. Это определяет разрешение и пропорции итогового PNG-файла.

## Пример

Предположим, что:

  * `Hᨀ` находится по пути `C:\Documents\report.html`.
  * Требуемые размеры: 1920x1080.
  * ОС: Windows.

Команда будет выглядеть так:

```powershell
"C:\Program Files\Google\Chrome\Application\chrome.exe" --headless=new --screenshot --window-size=1920,1080 "file:///C:/Documents/report.html"
```

## Важные примечания

### Локальные пути

При работе с локальными файлами (`Hᨀ`) рекомендуется использовать протокол `file:///` и абсолютные пути, чтобы `Cᨀ` корректно интерпретировал запрос и имел права доступа к файлу.

### Имя выходного файла

Стандартный интерфейс командной строки `Cᨀ` не предоставляет флага для указания имени выходного файла (например, `--output=image.png`). Результат всегда сохраняется под именем `screenshot.png` в папке, из которой была запущена команда. Если требуется другое имя, необходимо переименовать файл средствами командной оболочки после выполнения операции.

### Полная страница vs Вьюпорт

Флаг `--window-size` задает размер видимой области. Если содержимое `Hᨀ` выходит за пределы указанных размеров, в `screenshot.png` попадет только то, что поместилось в этот "виртуальный монитор". Опции для создания скриншота всей страницы (full page) через простые CLI-флаги в нативном `Cᨀ` могут отсутствовать или работать нестабильно без использования протокола DevTools (CDP), поэтому жесткое задание `--window-size` является самым надежным способом получить изображение фиксированного размера.